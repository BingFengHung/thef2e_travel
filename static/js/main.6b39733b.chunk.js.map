{"version":3,"sources":["components/Home/Home.module.css","components/Card/Card.js","api/dataFetch.js","components/Home/Home.js","App.js","index.js","components/Card/Card.module.css"],"names":["module","exports","Card","props","data","className","style","card","src","Picture","PictureUrl1","alt","PictureDescription1","info","name","Name","icon","faMap","Address","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","Authorization","getHMAC","query","a","axios","defaults","baseURL","headers","get","res","status","console","log","getData","Home","useState","cardList","setCardList","useEffect","then","forEach","item","push","home","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kGACAA,EAAOC,QAAU,CAAC,KAAO,qB,4ICsBVC,MAnBf,SAAcC,GAAQ,IAAD,EACdC,EAAOD,EAAMC,KAEnB,OACC,sBAAKC,UAAWC,IAAMC,KAAtB,UACC,qBAAKC,IAAKJ,EAAKK,QAAQC,YAAaC,IAAG,UAAER,EAAMM,eAAR,aAAE,EAAeG,sBAExD,qBAAKP,UAAWC,IAAMO,KAAtB,SACC,mBAAGR,UAAWC,IAAMQ,KAApB,SAA2BV,EAAKW,SAGjC,8BACC,cAAC,IAAD,CAAiBC,KAAMC,MACtBb,EAAKc,e,iDCdV,SAASC,IAEP,IAGIC,GAAY,IAAIC,MAAOC,cACvBC,EAAS,IAAIC,IAAM,QAAS,QAUhC,OATAD,EAAOE,WAJM,8BAIa,QAC1BF,EAAOG,OAAO,WAAaN,GAQpB,CAAEO,cALP,yGAFSJ,EAAOK,QAAQ,OAMxB,IACqC,SAAUR,G,4CAGnD,WAAuBS,GAAvB,eAAAC,EAAA,sEAEEC,IAAMC,SAASC,QAAU,oCACzBF,IAAMC,SAASE,QAAUf,IAH3B,SAIkBY,IAAMI,IAAIN,GAJ5B,UAKqB,OADfO,EAJN,QAKUC,OALV,yCAMUD,EAAIhC,MANd,yDAUEkC,QAAQC,IAAR,MAVF,iCAaQ,MAbR,2D,sBAgBeC,M,4CCHAC,MA9Bf,WACC,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAsBA,OApBAC,qBAAU,WACT,IAKIhB,EAAK,+BAJwB,GAIxB,iBAHC,GAGD,kBAFE,EAEF,qDAETW,EAAQX,GACPiB,MAAK,SAAAV,GACL,IAAMhC,EAAO,GACbgC,EAAIW,SAAQ,SAAAC,GACX5C,EAAK6C,KAAK,cAAC,EAAD,CAAM7C,KAAM4C,QAGvBJ,EAAYxC,QAEX,IAIF,qBAAKC,UAAWC,IAAM4C,KAAtB,SACEP,KCpBWQ,MARf,WACE,OACE,8BACE,cAAC,EAAD,OCDNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCP1BxD,EAAOC,QAAU,CAAC,KAAO,sB","file":"static/js/main.6b39733b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3idT9\"};","import style from './Card.module.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMap } from '@fortawesome/free-solid-svg-icons'\n\nfunction Card(props) {\n\tconst data = props.data;\n\n\treturn (\n\t\t<div className={style.card}>\n\t\t\t<img src={data.Picture.PictureUrl1} alt={props.Picture?.PictureDescription1}/>\n\n\t\t\t<div className={style.info}>\n\t\t\t\t<p className={style.name}>{data.Name}</p>\n\t\t\t</div>\n\n\t\t\t<p> \n\t\t\t\t<FontAwesomeIcon icon={faMap}/> \n\t\t\t\t{data.Address}\n\t\t\t</p>\n\t\t</div>\n\t)\n}\n\nexport default Card;","import axios from 'axios'\nimport jsSHA from 'jssha'\n\nfunction getAuthorizationHeader() {\n  //  填入自己 ID、KEY 開始\n  let AppID = \"83fc39f9c29946578ee26c17b458f970\";\n  let AppKey = \"0o53fh7JHKpoZBW2kIM8SM7GW4Y\";\n  //  填入自己 ID、KEY 結束\n  let GMTString = new Date().toGMTString();\n  let ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\n  ShaObj.setHMACKey(AppKey, \"TEXT\");\n  ShaObj.update(\"x-date: \" + GMTString);\n  let HMAC = ShaObj.getHMAC(\"B64\");\n  let Authorization =\n    'hmac username=\"' +\n    AppID +\n    '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\n    HMAC +\n    '\"';\n  return { Authorization: Authorization, \"X-Date\": GMTString };\n}\n\nasync function getData(query) {\n\ttry {\n\t\taxios.defaults.baseURL = 'https://ptx.transportdata.tw/MOTC'\n\t\taxios.defaults.headers = getAuthorizationHeader();\n\t\tlet res = await axios.get(query) \n\t\tif (res.status === 200) {\n\t\t\treturn res.data\n\t\t}\n\t}\n\tcatch (err) {\n\t\tconsole.log(err);\n\t}\n\n\treturn null;\n}\n\nexport default getData;","import style from './Home.module.css';\nimport { useEffect, useState } from 'react';\nimport Card from '../Card/Card';\nimport getData from '../../api/dataFetch';\n\nfunction Home() {\n\tconst [cardList, setCardList] = useState([])\n\n\tuseEffect(() => {\n\t\tlet name = 'Taiwan'\n\t\tlet newName = name === 'Taiwan'? '': `/${name}`;\n\t\tlet top = 30;\n\t\tlet skip = 0;\n\n\t\tlet query = `v2/Tourism/ScenicSpot${newName}?$top=${top}&$skip=${skip}&$filter=Picture/PictureUrl1 ne null&$format=JSON`\n\t\t\n\t\tgetData(query)\n\t\t.then(res => {\n\t\t\tconst data = []\n\t\t\tres.forEach(item => {\n\t\t\t\tdata.push(<Card data={item}/>)\n\t\t\t})\n\n\t\t\tsetCardList(data)\n\t\t});\n\t}, [])\n\n\n\treturn (\n\t\t<div className={style.home}>\n\t\t\t{cardList}\n\t\t</div>\n\t)\n}\n\nexport default Home;","import Home from \"./components/Home/Home\";\n\nfunction App() {\n  return (\n    <div>\n      <Home/>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1eE8R\"};"],"sourceRoot":""}